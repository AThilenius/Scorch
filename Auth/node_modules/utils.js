exports.error = function(message, errorCode, stackTrace) {
  return {
    did_pass : false,
    failure_message : message,
    error_code : errorCode,
    stack_trace : stackTrace 
  };
};

exports.fieldCheck = function(req, res) {
  var didPass = true;
  var missingFields = "The field(s) ";
  for (var i = 2; i < arguments.length; i++) {
    if (!req.body.hasOwnProperty(arguments[i])) {
      missingFields += "[" + arguments[i] + "] ";
      didPass = false;
    }
  }
  if (!didPass) {
    res.json(module.exports.error(missingFields +
          "is required but not provided.", 400));
  }
  return didPass;
};

exports.errorCheck = function(res, err) {
  if (err === null) {
    return false;
  } else {
    res.json(module.exports.error("Internal Server Error: " + err, 500, null));
    return true;
  }
}
